<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd
                           http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd
                           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.2.xsd
                           http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.2.xsd">

  <!-- CommentsDAO -->
	<bean id="commentsDAO" class="jp.co.transcosmos.dm3.dao.ReflectingDAO">
		<property name="dataSource" ref="requestScopeDS" />
		<property name="valueObjectClassName" value="jp.co.transcosmos.dm3.core.vo.UserComment" />
		<property name="pkFields" value="commentId" />
		<property name="emptyStringsToNull" value="true" />
		<property name="useAutonumberColumns" value="false" />
	</bean>
	
	<!-- commentfactory -->
	<bean id="commentFormFactory"
		class="jp.co.transcosmos.dm3.corePana.model.comment.form.CommentFormFactory">
		<property name="codeLookupManager" ref="codeLookupManager" />
		<property name="lengthUtils" ref="lengthValidationUtils" />
	</bean>
	
	<!-- CommentsManageImpl -->
	<bean id="commentsManager"
		class="jp.co.transcosmos.dm3.corePana.model.comment.manage.impl.CommentsManageImpl">
		<property name="valueObjectFactory" ref="valueObjectFactory" />
		<property name="commentListDAO" ref="commentsDAO" />
		<property name="newsDAO" ref="newsDAO" />
		<property name="commentFormFactory" ref="commentFormFactory" />
	</bean>
  
</beans>